<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Customer Home</title>
    <style>
	    /* Global Styles */
	    body {
	        font-family: Arial, sans-serif;
	        background-color: #fff8e1; /* Màu vàng nhạt */
	        margin: 0;
	        padding: 20px;
	        color: #333;
	    }
	
	    h1 {
	        color: #d32f2f; /* Đỏ đậm */
	        text-align: center;
	        margin-bottom: 20px;
	    }
	
	    /* Containers */
	    .container {
	        max-width: 800px;
	        margin: 0 auto;
	        background: #fff;
	        padding: 20px;
	        border-radius: 10px;
	        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
	        margin-bottom: 20px;
	    }
	
	    .container h2 {
	        text-align: center;
	        margin-bottom: 20px;
	        color: #d32f2f; /* Đỏ đậm */
	    }
	
	    .form-row {
	        display: flex;
	        justify-content: space-between;
	        margin-bottom: 15px;
	    }
	
	    .form-row label {
	        font-weight: bold;
	        flex: 1;
	    }
	
	    .form-row input, .form-row select {
	        flex: 2;
	        padding: 5px;
	        font-size: 16px;
	        border: 1px solid #ccc;
	        border-radius: 5px;
	        background-color: #f9f9f9;
	    }
	
	    /* Buttons */
	    .btn-container {
	        display: flex;
	        justify-content: space-between;
	        margin-top: 20px;
	    }
	
	    .btn {
	        padding: 10px 20px;
	        font-size: 16px;
	        font-weight: bold;
	        text-align: center;
	        text-decoration: none;
	        color: #fff;
	        border-radius: 8px;
	        background-color: #d32f2f; /* Đỏ đậm */
	        transition: background-color 0.3s ease, transform 0.2s ease;
	        border: none;
	        cursor: pointer;
	    }
	
	    .btn:hover {
	        background-color: #c62828; /* Đỏ nhạt hơn khi hover */
	    }
	
	    .btn:active {
	        background-color: #b71c1c; /* Đỏ tối hơn khi click */
	        transform: scale(0.95);
	    }
	
	    .btn.cancel {
	        background-color: #f44336; /* Đỏ sáng cho nút Cancel */
	    }
	
	    .btn.cancel:hover {
	        background-color: #e53935; /* Đỏ đậm hơn khi hover */
	    }
	
	    /* Change the border of the input fields */
	    .form-row input, .form-row select {
	        border: 1px solid #d32f2f; /* Đỏ cho viền input */
	    }
	
	    /* Header Styling */
	    header {
	        background-color: #d32f2f; /* Đỏ đậm */
	        color: #fff;
	        padding: 15px 0;
	        text-align: center;
	        font-size: 20px;
	    }
	
	    /* Buttons Style */
	    .btn-container {
	        margin-top: 20px;
	        display: flex;
	        justify-content: space-between;
	    }
	
	    /* Image preview styling */
	    #picturePreview {
	        max-width: 200px;
	        max-height: 200px;
	        border-radius: 10px;
	        display: block;
	        border: 4px solid #d32f2f; /* Đặt viền đỏ cho ảnh */
	    }
	    
	    /* Align the profile picture and button consistently with other inputs */
		.form-row {
		    display: flex;
		    justify-content: space-between;
		    margin-bottom: 15px;
		    align-items: center; /* Vertically align the items */
		}
		
		.form-row label {
		    font-weight: bold;
		    flex: 1;
		}
		
		.form-row input, .form-row select, .form-row img {
		    flex: 2;
		    padding: 5px;
		    font-size: 16px;
		    border: 1px solid #d32f2f; /* Red border */
		    border-radius: 5px;
		    background-color: #f9f9f9;
		}
		
		.form-row img {
		    max-width: 100%; /* Make sure the image doesn't overflow */
		    height: auto;    /* Maintain aspect ratio */
		    border: 4px solid #d32f2f; /* Red border for the image */
		    border-radius: 10px;
		    margin-right: 10px; /* Add space between image and button */
		}
		
		#changePictureBtn {
		    padding: 10px 20px;
		    font-size: 16px;
		    font-weight: bold;
		    color: #fff;
		    background-color: #d32f2f; /* Red button */
		    border-radius: 8px;
		    transition: background-color 0.3s ease, transform 0.2s ease;
		    border: none;
		    cursor: pointer;
		}
		
		#changePictureBtn:hover {
		    background-color: #c62828; /* Darker red on hover */
		}
		
		#changePictureBtn:active {
		    background-color: #b71c1c; /* Darkest red on active */
		    transform: scale(0.95); /* Slightly shrink the button on click */
		}
	    
	</style>

</head>
<body>
	<!-- HEADER  -->
    <h1>Customer Home</h1>

    <!-- Customer Information Section -->
    <div class="container">
        <h2>Customer Information</h2>
        <form id="customerForm" enctype="multipart/form-data" action="#" method="post">
            <div class="form-row">
                <label for="name">Name:</label>
                <input type="text" id="name" name="name" th:value="${customer.name}" readonly />
            </div>
            <div class="form-row">
                <label for="email">Email:</label>
                <input type="email" id="email" name="email" th:value="${customer.email}" readonly />
            </div>
            <div class="form-row">
                <label for="phone">Phone:</label>
                <input type="tel" id="phone" name="phone" th:value="${customer.phone}" readonly />
            </div>
            <div class="form-row">
                <label for="address">Address:</label>
                <input type="text" id="address" name="address" th:value="${customer.address}" readonly />
            </div>
            <div class="form-row">
                <label for="username">Username:</label>
                <input type="text" id="username" name="username" th:value="${customer.address}" readonly />
            </div>
            <div class="form-row">
                <label for="password">Password:</label>
                <input type="text" id="password" name="address" th:value="${customer.address}" readonly />
            </div>

            <!-- Picture -->
            <div class="form-row">
                <label for="picture">Picture:</label>
                <input type="file" id="picture" name="picture" accept="image/*" style="display: none;" />
                <img id="picturePreview" th:src="@{/image/{fname}(fname=${customer.picture})}" alt="Profile Picture" style="max-width: 200px; max-height: 200px; border-radius: 10px; display: block;" />
                <button type="button" id="changePictureBtn" class="btn">Change Picture</button>
            </div>

            <!-- Buttons -->
            <div class="btn-container">
                <button type="button" class="btn" id="editBtn">Edit</button>
                <button type="submit" class="btn" id="saveBtn" style="display: none;">Save</button>
                <button type="button" class="btn cancel" id="cancelBtn" style="display: none;">Cancel</button>
            </div>
        </form>
    </div>

    <!-- Place Order Section -->
    <div class="container">
        <h2>Place an Order</h2>
        <form id="orderForm">
            <div class="form-row">
                <label for="source">Pickup Location:</label>
                <input type="text" id="source" name="source" placeholder="Enter source address" required />
            </div>
            <div class="form-row">
                <label for="dest">Delivery Location:</label>
                <input type="text" id="dest" name="dest" placeholder="Enter destination address" required />
            </div>
            <div class="form-row">
                <label for="weight">Package Weight (kg):</label>
                <input type="number" id="weight" name="weight" placeholder="Enter weight" required />
            </div>
            <div class="form-row">
                <label for="serviceType">Service Type:</label>
                <select id="serviceType" name="serviceType" required>
                    <option value="standard">Standard</option>
                    <option value="express">Express</option>
                    <option value="sameDay">Same Day</option>
                </select>
            </div>

            <!-- Buttons -->
            <div class="btn-container">
                <button type="submit" class="btn">Submit Order</button>
            </div>
        </form>
    </div>

    <script>
        // Edit Customer Info JavaScript
        const editBtn = document.getElementById('editBtn');
        const saveBtn = document.getElementById('saveBtn');
        const cancelBtn = document.getElementById('cancelBtn');
        const customerInputs = document.querySelectorAll('#customerForm input');
        const picturePreview = document.getElementById('picturePreview');
        const changePictureBtn = document.getElementById('changePictureBtn');
        const pictureInput = document.getElementById('picture');

        editBtn.addEventListener('click', () => {
            customerInputs.forEach(input => input.removeAttribute('readonly'));
            editBtn.style.display = 'none';
            saveBtn.style.display = 'inline-block';
            cancelBtn.style.display = 'inline-block';
        });

        cancelBtn.addEventListener('click', () => {
            customerInputs.forEach(input => input.setAttribute('readonly', true));
            editBtn.style.display = 'inline-block';
            saveBtn.style.display = 'none';
            cancelBtn.style.display = 'none';
        });

        // Handle picture change
        changePictureBtn.addEventListener('click', () => {
            pictureInput.click();
        });

        pictureInput.addEventListener('change', (e) => {
            const file = e.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(event) {
                    picturePreview.src = event.target.result;
                    picturePreview.style.display = 'block';  // Ensure the image is displayed
                };
                reader.readAsDataURL(file);
            }
        });

        document.getElementById('customerForm').addEventListener('submit', (e) => {
            e.preventDefault();
            // Save customer data (add your own save logic here)
            customerInputs.forEach(input => input.setAttribute('readonly', true));
            editBtn.style.display = 'inline-block';
            saveBtn.style.display = 'none';
            cancelBtn.style.display = 'none';
        });

        // Place Order Form Submission
        document.getElementById('orderForm').addEventListener('submit', (e) => {
            e.preventDefault();
            // alert('Order placed successfully!');
            document.getElementById('orderForm').reset();
        });
    </script>
    
    <!-- FOOTER -->
</body>
</html>
